drop database if exists airport_flight;

create database airport_flight;

use airport_flight;

drop table if exists state;

create table state (
	id int auto_increment not null,
	title varchar(32) not null,
	removed boolean,
	primary key(id)
);

drop table if exists route;

create table route (
	id int auto_increment not null,
	from_point varchar(32) not null,
	to_point varchar(32) not null,
	removed boolean,
	primary key(id)
);

drop table if exists flight;

create table flight (
	id int auto_increment not null,
	departure datetime not null,
	duration time not null,
    state_id int not null,
    route_id int not null,
	removed boolean,
	primary key(id),
    foreign key(state_id) references state(id)
		on update cascade
		on delete restrict,
	foreign key(route_id) references route(id)
		on update cascade
		on delete restrict
);

drop table if exists airline;

create table airline (
	id int auto_increment not null,
	title varchar(32) not null,
	rating decimal(3, 2) not null,
	removed boolean,
	primary key(id)
);

drop table if exists flight_airline;

create table flight_airline (
	flight_id int not null,
	airline_id int not null,
	primary key(flight_id, airline_id),
	foreign key(flight_id) references flight(id)
		on update cascade
		on delete cascade,
	foreign key(airline_id) references airline(id)
		on update cascade
		on delete cascade
);

insert into state
	(title)
values
	('pending'),
	('in flight'),
	('arrived');

insert into route
	(from_point, to_point)
values
	('Santa Rita', 'Rybí'),
	('Milówka', 'Maranura'),
	('Cincinnati', 'Amboasary'),
	('Changdai', 'Luján de Cuyo'),
	('Reston', 'Polzela'),
	('Naberera', 'Mabugang'),
	('Palapye', 'Amfíkleia'),
	('Paitan Este', 'Mugan'),
	('Kastornoye', 'Fuxing'),
	('Staré Město', 'Gopaan'),
	('Burgkirchen', 'Aras-asan'),
	('Beauvais', 'Yahil’nytsya'),
	('Kadaka', 'Panyarang'),
	('Bofuer', 'Buđanovci'),
	('Huangqi', 'Chiriguaná'),
	('Paitan Este', 'Minas de Matahambre'),
	('Mikołów', 'Shankill'),
	('Limoges', 'Thanh Khê'),
	('Ostrowite', 'Santa Eulália'),
	('Qingshuitang', 'Boshan'),
	('Ilek', 'Nowy Dwór Gdański'),
	('Siguinon', 'Dongtucheng'),
	('Lajkovac', 'Trondheim'),
	('Dagestanskiye Ogni', 'Ban Dung'),
	('Des Moines', 'Bawshar'),
	('Kama', 'Rönninge'),
	('Maluanluan', 'Jiangkou'),
	('Berlin', 'Wujing'),
	('Sovetskiy', 'Ростуша'),
	('Krasnaya Gorka', 'Porangatu'),
	('Pringgabaya', 'Cabanilla'),
	('Gusau', 'San Diego'),
	('Rende', 'Al ‘Aqabah'),
	('Sasayama', 'Kryry'),
	('Wijewo', 'Kota Kinabalu'),
	('Patos Fshat', 'El Copé'),
	('Clamart', 'Huazhou'),
	('Qiling', 'Saint-Quentin'),
	('Digdig', 'Kudinovo'),
	('Asempapak', 'Chiduo'),
	('Huquan', 'Serra'),
	('Santa Adélia', 'Langkap'),
	('Chodová Planá', 'Kananya'),
	('Lyozna', 'Janja'),
	('Dundrum', 'Ti-n-Essako'),
	('Floirac', 'Damaturu'),
	('New Orleans', 'Maiac'),
	('Sitiarjo', 'Brinkmann'),
	('Linamon', 'Lianfa'),
	('Panghadangan', 'Lianhe');

insert into flight
	(departure, duration, route_id, state_id)
values
	('2022-05-13 05:57:19', '3:00', 15, 1),
	('2022-05-30 21:55:40', '13:04', 1, 1),
	('2022-05-24 03:38:36', '2:26', 26, 3),
	('2022-05-13 17:24:13', '22:41', 26, 3),
	('2022-05-24 14:16:07', '8:06', 18, 3),
	('2022-06-05 03:01:15', '19:05', 35, 3),
	('2022-05-28 17:31:08', '1:18', 2, 3),
	('2022-05-07 19:00:57', '12:28', 40, 2),
	('2022-05-02 16:07:33', '7:15', 46, 2),
	('2022-06-01 14:33:24', '19:44', 35, 1),
	('2022-05-13 22:39:42', '4:25', 38, 1),
	('2022-05-18 06:25:31', '8:14', 47, 2),
	('2022-06-02 04:35:22', '4:19', 5, 1),
	('2022-05-09 11:26:59', '12:01', 20, 2),
	('2022-05-02 09:07:18', '9:17', 40, 2),
	('2022-05-28 12:27:36', '0:09', 14, 2),
	('2022-05-28 17:14:39', '13:32', 22, 3),
	('2022-05-19 05:18:39', '1:03', 35, 3),
	('2022-06-03 06:07:45', '14:37', 35, 2),
	('2022-05-17 00:27:43', '10:53', 43, 3),
	('2022-05-24 02:51:17', '0:25', 3, 2),
	('2022-06-02 12:35:53', '9:29', 38, 3),
	('2022-05-27 03:39:43', '17:31', 35, 1),
	('2022-05-18 09:58:49', '17:28', 10, 1),
	('2022-05-12 01:56:33', '2:47', 26, 1),
	('2022-05-12 04:17:58', '3:44', 6, 1),
	('2022-05-25 06:50:02', '12:29', 41, 3),
	('2022-05-27 20:48:32', '3:07', 22, 3),
	('2022-05-09 22:47:57', '2:55', 50, 1),
	('2022-06-01 20:39:36', '22:03', 15, 1),
	('2022-05-17 04:59:18', '10:53', 4, 3),
	('2022-05-10 03:26:27', '4:49', 35, 2),
	('2022-05-04 18:11:07', '2:42', 28, 3),
	('2022-06-06 07:44:14', '0:20', 21, 3),
	('2022-05-22 01:28:45', '15:20', 39, 2),
	('2022-05-18 00:07:02', '6:39', 25, 1),
	('2022-05-07 19:51:44', '11:35', 12, 3),
	('2022-05-27 09:42:09', '20:59', 24, 2),
	('2022-05-18 20:24:28', '13:07', 43, 3),
	('2022-05-08 21:26:14', '11:09', 40, 1),
	('2022-05-11 03:15:35', '17:32', 7, 1),
	('2022-06-01 17:07:40', '7:23', 40, 2),
	('2022-05-25 11:17:01', '7:35', 14, 1),
	('2022-05-19 13:01:35', '0:25', 40, 3),
	('2022-05-16 15:47:45', '7:12', 48, 1),
	('2022-05-30 11:59:35', '17:05', 33, 3),
	('2022-05-18 13:43:36', '20:15', 26, 3),
	('2022-05-30 08:41:24', '14:16', 7, 2),
	('2022-05-15 03:52:35', '10:33', 23, 3),
	('2022-05-02 10:34:14', '21:37', 18, 1),
	('2022-05-14 07:36:27', '22:45', 43, 3),
	('2022-06-06 09:31:43', '7:29', 31, 3),
	('2022-05-23 21:48:09', '21:05', 26, 1),
	('2022-05-13 05:44:10', '16:56', 48, 3),
	('2022-05-16 16:39:51', '10:42', 16, 2),
	('2022-05-17 05:26:46', '0:19', 23, 1),
	('2022-05-28 22:16:55', '14:12', 4, 3),
	('2022-05-16 18:05:03', '1:21', 5, 2),
	('2022-05-27 08:05:33', '9:32', 47, 1),
	('2022-05-12 07:45:03', '13:23', 18, 2),
	('2022-05-07 20:34:35', '17:07', 34, 1),
	('2022-06-05 11:41:20', '21:20', 28, 2),
	('2022-05-07 20:32:31', '8:39', 4, 3),
	('2022-05-24 01:32:15', '11:08', 23, 1),
	('2022-06-04 12:09:27', '21:17', 40, 2),
	('2022-05-18 13:21:18', '11:59', 17, 1),
	('2022-05-06 17:08:37', '22:03', 1, 2),
	('2022-06-05 07:15:05', '16:27', 27, 3),
	('2022-05-23 06:41:37', '15:25', 44, 2),
	('2022-05-22 22:49:05', '10:17', 5, 3),
	('2022-05-06 12:18:08', '14:23', 14, 2),
	('2022-05-20 04:09:06', '18:31', 14, 1),
	('2022-05-07 11:36:54', '11:45', 16, 2),
	('2022-05-28 09:08:24', '19:19', 20, 2),
	('2022-05-20 23:52:34', '10:39', 31, 3),
	('2022-05-23 05:40:01', '2:20', 39, 1),
	('2022-05-08 00:57:21', '1:33', 42, 1),
	('2022-05-31 07:02:49', '7:42', 20, 2),
	('2022-05-19 15:24:26', '0:37', 19, 3),
	('2022-05-24 07:47:13', '14:21', 29, 1),
	('2022-05-19 15:30:59', '8:47', 5, 2),
	('2022-05-07 10:59:59', '4:18', 19, 1),
	('2022-05-10 11:10:35', '14:23', 33, 3),
	('2022-05-17 01:26:58', '8:47', 22, 3),
	('2022-05-01 18:21:11', '17:50', 31, 2),
	('2022-05-28 01:49:01', '4:55', 40, 1),
	('2022-05-22 08:00:26', '13:00', 42, 3),
	('2022-05-30 13:23:38', '3:10', 21, 2),
	('2022-05-21 08:43:06', '7:20', 40, 2),
	('2022-05-03 04:43:09', '8:59', 15, 2),
	('2022-05-01 05:21:58', '9:17', 29, 3),
	('2022-05-06 16:17:13', '15:54', 13, 1),
	('2022-05-01 00:20:36', '22:26', 15, 1),
	('2022-05-10 05:30:06', '5:26', 29, 3),
	('2022-05-01 05:46:23', '20:04', 50, 3),
	('2022-06-03 23:46:32', '2:28', 32, 2),
	('2022-05-18 10:07:25', '9:06', 26, 3),
	('2022-06-04 23:51:14', '4:30', 16, 3),
	('2022-06-03 17:12:15', '21:24', 33, 2),
	('2022-05-16 04:15:40', '10:20', 35, 3);

insert into airline
	(title, rating)
values
	('Hong Kong Airlines', 4.05),
	('Edelweiss Air', 2.37),
	('Qatar Airways', 4.85),
	('Ryanair', 4.54),
	('Malaysia Airlines', 2.51),
	('Wizzair', 2.81),
	('Cayman Airways', 1.34),
	('Emirates', 4.26),
	('Helvetic Airways', 3.36),
	('IndiGo Airlines', 2.6);

insert into flight_airline
	(flight_id, airline_id)
values
	(61, 6),
	(49, 3),
	(38, 1),
	(46, 2),
	(31, 10),
	(97, 10),
	(17, 3),
	(1, 10),
	(43, 1),
	(73, 9),
	(45, 2),
	(83, 8),
	(18, 3),
	(11, 9),
	(36, 6),
	(1, 7),
	(75, 4),
	(41, 1),
	(34, 9),
	(85, 7),
	(10, 10),
	(3, 5),
	(60, 9),
	(51, 5),
	(8, 4),
	(37, 1),
	(2, 7),
	(94, 6),
	(79, 2),
	(36, 9),
	(90, 1),
	(87, 3),
	(100 , 6),
	(32, 6),
	(92, 3),
	(31, 9),
	(99, 2),
	(70, 3),
	(16, 10),
	(76, 3),
	(44, 8),
	(80, 5),
	(5, 8),
	(94, 1),
	(39, 5),
	(95, 5),
	(5, 10),
	(46, 9),
	(50, 6),
	(68, 3),
	(45, 9),
	(35, 4),
	(22, 2),
	(18, 7),
	(1, 2),
	(50, 8),
	(29, 9),
	(36, 10),
	(55, 4),
	(40, 5),
	(11, 3),
	(48, 4),
	(37, 10),
	(16, 1),
	(2, 10),
	(61, 3),
	(46, 3),
	(95, 8),
	(86, 8),
	(34, 4),
	(89, 8),
	(14, 2),
	(29, 10),
	(36, 3),
	(33, 7),
	(82, 4),
	(38, 5),
	(79, 3),
	(21, 2),
	(1, 9),
	(74, 6),
	(77, 3),
	(79, 6),
	(14, 5),
	(41, 6),
	(44, 2),
	(23, 6),
	(85, 5),
	(51, 6),
	(3, 1),
	(9, 1),
	(28, 5),
	(58, 9),
	(44, 1),
	(27, 2),
	(39, 3),
	(25, 10),
	(41, 2),
	(36, 2),
	(96, 2),
	(39, 1),
	(50, 10),
	(31, 2),
	(70, 4),
	(45, 3),
	(52, 3),
	(48, 8),
	(44, 5),
	(39, 10),
	(28, 9),
	(41, 5),
	(10, 8),
	(83, 5),
	(11, 8),
	(9, 6),
	(58, 2),
	(86, 3),
	(27, 5),
	(85, 8),
	(4, 9),
	(90, 6),
	(56, 10),
	(38, 6),
	(37, 4),
	(64, 4),
	(71, 8),
	(1, 3),
	(27, 8),
	(47, 1),
	(65, 9),
	(10, 1),
	(100 , 7),
	(10, 4),
	(65, 5),
	(8, 1),
	(47, 2),
	(63, 1),
	(36, 4),
	(36, 7),
	(83, 2),
	(56, 4),
	(92, 7),
	(77, 10),
	(29, 6),
	(65, 8),
	(83, 9),
	(85, 4),
	(58, 8),
	(23, 7),
	(63, 4),
	(55, 7),
	(94, 3),
	(98, 10),
	(60, 8),
	(55, 5),
	(99, 5),
	(57, 4),
	(96, 8),
	(45, 6),
	(6, 4),
	(17, 9),
	(37, 9),
	(43, 10),
	(79, 7),
	(94, 4),
	(51, 4),
	(24, 10),
	(41, 7),
	(94, 9),
	(74, 8),
	(55, 6),
	(40, 8),
	(91, 8),
	(83, 3),
	(75, 8),
	(34, 10),
	(82, 5),
	(4, 10),
	(28, 4),
	(73, 10),
	(65, 6),
	(28, 2),
	(78, 4),
	(45, 1),
	(60, 1),
	(80, 7),
	(45, 10),
	(66, 2),
	(77, 4),
	(1, 8),
	(66, 9),
	(20, 1),
	(23, 5),
	(25, 6),
	(100 , 3),
	(67, 9),
	(16, 2),
	(97, 1),
	(88, 4),
	(29, 4);
